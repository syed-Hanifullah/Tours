{"ast":null,"code":"import _regeneratorRuntime from\"D:/tours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/tours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/tours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Loading from\"./Loading\";import Tours from\"./Tours\";import\"./App.css\";import\"bootstrap/dist/css/bootstrap.min.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"https://course-api.com/react-tours-project\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tours=_useState4[0],setTours=_useState4[1];////////////////////////////////\nvar removeTour=function removeTour(id){var newTours=tours.filter(function(tour){return tour.id!==id;});setTours(newTours);};/////////////////////////////////////////\nvar fetchTours=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_tours;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;_context.next=7;return response.json();case 7:_tours=_context.sent;setLoading(false);setTours(_tours);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);setLoading(false);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function fetchTours(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchTours();},[]);if(loading){return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Loading,{})});}if(tours.length===0){return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"No Data Left\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return fetchTours();},children:\"Refresh\"})]})});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Tours,{tours:tours,removeTour:removeTour})})});}export default App;","map":{"version":3,"sources":["D:/tours/src/App.js"],"names":["React","useState","useEffect","Loading","Tours","url","App","loading","setLoading","tours","setTours","removeTour","id","newTours","filter","tour","fetchTours","fetch","response","json","console","log","length"],"mappings":"0XAAA,MAAOA,CAAAA,KAAP,EACEC,QADF,CAEEC,SAFF,KAGO,OAHP,CAIA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAO,WAAP,CACA,MAAO,sCAAP,C,wFACA,GAAMC,CAAAA,GAAG,CACP,4CADF,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA8BL,QAAQ,CAAC,IAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACA;AACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACzB,GAAMC,CAAAA,QAAQ,CAAGJ,KAAK,CAACK,MAAN,CACf,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACH,EAAL,GAAYA,EAAtB,EADe,CAAjB,CAGAF,QAAQ,CAACG,QAAD,CAAR,CACD,CALD,CAMA;AACA,GAAMG,CAAAA,UAAU,0FAAG,uJACjBR,UAAU,CAAC,IAAD,CAAV,CADiB,sCAGQS,CAAAA,KAAK,CAACZ,GAAD,CAHb,QAGTa,QAHS,qCAIKA,CAAAA,QAAQ,CAACC,IAAT,EAJL,QAITV,MAJS,eAKfD,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAACD,MAAD,CAAR,CANe,iFAQfD,UAAU,CAAC,KAAD,CAAV,CACAY,OAAO,CAACC,GAAR,cATe,qEAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAYAd,SAAS,CAAC,UAAM,CACdc,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAGA,GAAIT,OAAJ,CAAa,CACX,mBACE,mCACE,KAAC,OAAD,IADF,EADF,CAKD,CACD,GAAIE,KAAK,CAACa,MAAN,GAAiB,CAArB,CAAwB,CACtB,mBACE,mCACE,aAAK,SAAS,CAAC,OAAf,wBACE,oCADF,cAEE,eACE,SAAS,CAAC,KADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,UAAU,EAAhB,EAFX,qBAFF,GADF,EADF,CAaD,CACD,mBACE,kCACE,mCACE,KAAC,KAAD,EACE,KAAK,CAAEP,KADT,CAEE,UAAU,CAAEE,UAFd,EADF,EADF,EADF,CAUD,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React, {\n  useState,\n  useEffect,\n} from \"react\";\nimport Loading from \"./Loading\";\nimport Tours from \"./Tours\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nconst url =\n  \"https://course-api.com/react-tours-project\";\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [tours, setTours] = useState([]);\n  ////////////////////////////////\n  const removeTour = (id) => {\n    const newTours = tours.filter(\n      (tour) => tour.id !== id\n    );\n    setTours(newTours);\n  };\n  /////////////////////////////////////////\n  const fetchTours = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(url);\n      const tours = await response.json();\n      setLoading(false);\n      setTours(tours);\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    fetchTours();\n  }, []);\n  if (loading) {\n    return (\n      <main>\n        <Loading />\n      </main>\n    );\n  }\n  if (tours.length === 0) {\n    return (\n      <main>\n        <div className=\"title\">\n          <h2>No Data Left</h2>\n          <button\n            className=\"btn\"\n            onClick={() => fetchTours()}\n          >\n            Refresh\n          </button>\n        </div>\n      </main>\n    );\n  }\n  return (\n    <div>\n      <main>\n        <Tours\n          tours={tours}\n          removeTour={removeTour}\n        />\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}